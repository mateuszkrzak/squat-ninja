<div class="col-xs-12 users">
    <div class="panel panel-primary">
        <div class="panel-heading panel-title">
            <div class="row">
            <div class="col-xs-8 col-md-9 title">Użytkownicy</div>
            <div class="col-xs-4 col-md-3">
                <div class="input-group">
                    <input type="text" class="form-control input-sm" placeholder="Szukaj" ng-model="searchUser">
                    <div class="input-group-btn">
                        <button class="btn btn-sm btn-info" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                        <thead>
                        <tr>
                            <th><a href="" ng-click="sort_field='username'; reverseSort = !reverseSort">Login</a></th>
                            <th><a href="" ng-click="sort_field='degree'; reverseSort = !reverseSort">Stopień</a></th>
                            <th><a href="" ng-click="sort_field='firstname'; reverseSort = !reverseSort">Imię</a></th>
                            <th><a href="" ng-click="sort_field='lastname'; reverseSort = !reverseSort">Nazwisko</a></th>
                            <th><a href="" ng-click="sort_field='email'; reverseSort = !reverseSort">e-mail</a></th>
                            <th><a href="" ng-click="sort_field='role'; reverseSort = !reverseSort">Rola</a></th>
                            <th>Akcja</th>

                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="user in users | orderBy:sort_field:reverseSort | filter : searchUser | filter : paginate">
                            <td class="username">
                                <div ng-hide="editingData[user.id]">{{  user.username }}</div>
                                <div ng-show="editingData[user.id]"><input type="text" ng-model="user.username" /></div>
                            <td>
                                <div ng-hide="editingData[user.id]">{{  user.profile.degree }}</div>
                                <div ng-show="editingData[user.id]"><input type="text" ng-model="user.profile.degree" /></div>
                            </td>
                            <td>
                                <div ng-hide="editingData[user.id]">{{user.firstname}}</div>
                                <div ng-show="editingData[user.id]"><input type="text" ng-model="user.firstname" /></div>
                            </td>
                            <td>
                                <div ng-hide="editingData[user.id]">{{user.lastname }}</div>
                                <div ng-show="editingData[user.id]"><input type="text" ng-model="user.lastname" /></div>
                            </td>
                            <td>
                                <div ng-hide="editingData[user.id]">{{user.profile.email }}</div>
                                <div ng-show="editingData[user.id]"><input type="email" ng-model="user.profile.email" /></div>
                            </td>
                            <td>
                                <div ng-hide="editingData[user.id]">{{user.role }}</div>
                                <div ng-show="editingData[user.id]">
                                    <select ng-model="user.role">
                                        <option value="admin">admin</option>
                                        <option value="user">user</option>
                                    </select>
                                </div>
                            </td>

                            <td class="buttons">
                                <button ng-hide="editingData[user.id]" ng-click="modify(user)" class="btn btn-xs glyphicon glyphicon-pencil"/>
                                <button ng-show="editingData[user.id]" ng-click="update(user)" class="btn btn-xs glyphicon glyphicon-ok"/>
                                <button type="button" class="btn btn-xs glyphicon glyphicon-trash" ng-click="delete(user.id)"/>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div ng-show="showinputs"><input type="text" ng-model="username" /></div>
                            </td>
                            <td>
                                <div ng-show="showinputs"><input type="text" ng-model="degree" /></div>
                            </td>
                            <td>
                                <div class="name" ng-show="showinputs"><input type="text" ng-model="firstname" /></div>
                            </td>
                            <td>
                                <div class="name" ng-show="showinputs"><input type="text" ng-model="lastname" /></div>
                            </td>
                            <td>
                                <div ng-show="showinputs"><input type="text" ng-model="email" /></div>
                            </td>
                            <td>
                                <div ng-show="showinputs">
                                    <select ng-model="role">
                                        <option value="admin">admin</option>
                                        <option value="user">user</option>
                                    </select>
                                </div>
                            </td>
                            <td>
                                <button ng-show="showinputs" type="button" class="btn btn-xs glyphicon glyphicon-ok" ng-click="addRow(); showinputs=false"/>
                                <button ng-hide="showinputs" type="button" class="btn btn-xs glyphicon glyphicon-plus" ng-click="showAddRow(); showinputs=true"/>

                            </td>
                        </tr>


                        </tbody>

                        <tfoot>
                            <tr>
                                <td colspan="7">
                                    <div class="text-center">
                                        <pagination
                                            boundary-links="true"
                                            total-items="totalItems"
                                            items-per-page="itemsPerPage"
                                            ng-model="currentPage"
                                            class="pagination-sm"
                                            ng-change="pageChanged()"
                                            previous-text="&lsaquo;"
                                            next-text="&rsaquo;"
                                            first-text="Pierwszy"
                                            last-text="Ostatni">
                                        </pagination>
                                    </div>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
        </div>
    </div>
</div>